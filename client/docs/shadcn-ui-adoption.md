# shadcn/ui 도입 결정 및 적용 보고서

## 1. 배경 및 도입 배경
본 프로젝트는 **Preact + Vite** 기반의 초경량 실시간 플랫폼을 지향하며, 모바일과 웹 PC를 동시에 지원하는 환경입니다. 기능이 확장됨에 따라 복잡한 UI 컴포넌트(Autocomplete, Dialog, Popover 등)를 직접 개발하는 것에 대한 시간적 리소스와 유지보수 비용이 증가하게 되었습니다.

### 디자인 시스템의 한계
- 기존 SCSS 기반의 디자인 시스템은 가볍지만, 접근성(WAI-ARIA), 키보드 네비게이션, 모바일 오버레이와 같은 복잡한 상호작용을 매번 수동으로 구현해야 하는 비효율성이 존재했습니다.

## 2. shadcn/ui 선택 이유
여러 UI 라이브러리 중 shadcn/ui를 선택한 이유는 다음과 같습니다.

1. **컴포넌트 소유권:** 라이브러리를 설치하는 방식이 아니라 소스 코드를 프로젝트에 직접 추가하는 방식이므로, 프로젝트의 특수성에 맞춰 코드를 수정하기 용이합니다.
2. **필요한 것만 선택:** 전체 라이브러리를 설치하지 않고 필요한 컴포넌트(Button, Command, Popover 등)만 개별적으로 추가하여 번들 사이즈를 최소화할 수 있습니다.
3. **Headless UI 기반:** 접근성이 검증된 Radix UI 프리미티브를 사용하므로, 복잡한 UI 로직을 안정적으로 처리할 수 있습니다.

## 3. Preact 환경에서의 도전 과제 및 해결 방안

### 3.1 React 의존성 문제 (`preact/compat`)
shadcn/ui(Radix UI)는 React에 의존성이 있습니다. 이를 해결하기 위해 `vite.config.ts`에 `preact/compat`을 별칭(alias)으로 설정하여 React 호출을 Preact로 매핑했습니다. 이미 프로젝트에서 `sonner` 등 React 기반 라이브러리를 사용하고 있었으므로 추가적인 부담 없이 적용 가능했습니다.

### 3.2 Tailwind CSS v4 도입 및 최적화
프로젝트에 Tailwind CSS v4를 도입하면서 다음과 같은 최적화를 진행했습니다.
- **v4 호환성:** Tailwind v4의 변화에 맞춰 `@tailwindcss/postcss`를 사용하여 PostCSS 설정을 업데이트하고, `@import "tailwindcss";` 방식을 적용했습니다.
- **디자인 토큰 통합:** 기존 `_variables-unified.scss`에서 정의된 CSS 변수들을 Tailwind 테마로 매핑하여, 기존 스타일과 shadcn UI 간의 시각적 일관성을 확보했습니다.

### 3.3 아이콘 라이브러리 최적화
shadcn 기본값인 `lucide-react` 대신 Preact에 최적화된 `lucide-preact`를 사용하여 런타임 오버헤드를 줄였습니다.

## 4. 실질적 적용 결과 (Autocomplete 마이그레이션 예시)
- **코드량 감소:** 약 600줄에 달하던 `Autocomplete.tsx`의 복잡한 로직을 shadcn의 `Combobox` 프리미티브로 대체하여 선언적이고 관리하기 쉬운 코드로 리팩토링했습니다.
- **기능 개선:** 직접 구현하기 까다로웠던 다중 선택(Multi-select) 및 칩(Chips) 기능을 안정적으로 구현했습니다.
- **접근성 향상:** Radix UI의 기본 기능을 통해 키보드 접근성 및 스크린 리더 지원을 확보했습니다.

## 5. 결론 및 향후 계획
shadcn/ui 도입은 프로젝트의 **경량화 철학**을 해치지 않으면서도 **개발 생산성**을 획기적으로 높일 수 있는 전략적 선택이었습니다. 향후 새로운 컴포넌트가 필요할 때마다 shadcn을 통해 점진적으로 확장하며, 모든 UI 요소를 Tailwind 기반으로 통합해 나갈 예정입니다.
